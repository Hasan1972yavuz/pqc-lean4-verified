import Mathlib.Data.Int.ModEq
import Mathlib.Tactic.Ring

namespace MLKEM1024

def q : ℤ := 3329

def Compress (d x : ℕ) : ℕ :=
  ((x : ℤ) * (2^d : ℤ) + q) / (2 * q) % (2^d)

def Decompress (d y : ℕ) : ℕ :=
  ((y : ℤ) * (2 * q) + (2^d)) / (2^d)

theorem decompress_compress (d x : ℕ) :
    Int.natAbs (Decompress d (Compress d x) - x) ≤ d := by
  sorry  -- morgen ersetzen wir das durch echten Beweis
